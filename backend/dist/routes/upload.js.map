{"version":3,"file":"upload.js","sourceRoot":"","sources":["../../src/routes/upload.ts"],"names":[],"mappings":"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"}